name: music_get_instrument
trigger_response: None
global_state_entry_requirements:
  - prompt_treelet: 'music_get_instrument'
    exit_music_rg: False
  - next_treelet_str: 'music_get_instrument'
    exit_music_rg: False

prompt_leading_responses:
  - required:
      prev_treelet_str: music_handle_opinion
    prompt: 'There are so many instruments in the world. What is your favorite one?'

subnode_state_updates:
  instr_exists_with_til:
    just_used_til: True
    bot_getting_instrument: False
    prompt_treelet: 'instrument_til_reply'
  instr_exists_wo_til:
    bot_getting_instrument: False
    prompt_treelet: flags['prompt_treelet']
  no_fav_instrument:
    bot_getting_instrument: False
    prompt_treelet: flags['prompt_treelet']
  catch_all:
    bot_getting_instrument: False
    prompt_treelet: flags['prompt_treelet']
prompt_treelet_options:
  - 'instrument_til_reply'
  - 'music_get_singer'
  - 'music_get_song'